---
title: Temporal Hierarchical Tree Visualization
cover: /image/tree.gif
---
在2020疫情爆发的中期，深圳本地出现了大规模的感染病例，疫情态势发展迅速，在深圳大学计算机学院院长黄惠老师的号召下，组织了一批针对本次疫情传播进行分析的团队。基于深圳卫健委公布的流调信息，我们收集了近月来深圳本地的**病例数据**，可视化作为**数据**与**视觉感知**间的桥梁，可以帮助决策人员更好的分析本次疫情的传播和态势。我作为团队中的一员，负责可视化的视觉设计和开发。

## 疫情数据

![image-20220302222142908](../images/T0.png)

## 需求分析

1. **概览展现每日的疫情总体情况**
2. **分析每日病例的传播来源**
3. **分析聚集性事件的传播方式**



## 传播树图

****

![](../images/T1.png)

为了呈现疫情每日态势，最普遍的方式是采用折线图，通过X轴编码 **时间的维度**， Y轴编码 **病例数量** 来反映近段时间内疫情的走势，这样的 **可视化方式** 简单、直接、明了，**但是**无法对当日疫情有进一步的分析，比如当日发生了聚集性传染事件，病例是如何被感染的等等情况。

**Thinking:**

基于折线图的优势和不足，我们设想能否设计一种可视化方式，可以反映近期内的疫情走势，又可以检测当日是否发生了聚集性传染事件，可能的话将病例的感染路线也一并展示出，在看到这样的一幅图表后，可以对当日的疫情传播有更深的认识。

通过对疫情数据进行观察后发现，疫情数据同时具有 **时空** 和 **层次** 关系，经过调研现有的可视化后，时空关系可以用Timline的视觉方式。

<img src="/../images/T2.png" class="littleImg" />

而展现层次结构关系的最佳可视化方式则是树图。

<img src="/../images/T3.png" class="littleImg" />

如果将这两种图表结合一下会是怎么样呢？(传播树的初稿完成 √ )



![image-20220303110853098](../images/T4.png)

但是每一棵树都是单层的，并不能体现数据的层级关系(比如感染事件中 **一传多的现象** )

### 聚集性传播层级树

![传播树](../images/T5.png)

### 其他形式

**用颜色编码病例的类型，并链接感染源和被感染源** 

 ![传播树2](../images/T6.png)

**用动画动态展现传播路径避免视觉遮挡**

 ![传播树2](../images/T55.gif)

## 五线谱图

在采用传播树图的可视化方式后，我们发现 **虽然可以在每日的疫情上展现聚集性传播的情况，但具体的传播方式还需要进一步的深究**，又联想到五线谱图的隐喻设计。

![image-20220303161432504](../images/T44.png)

通过五根等距离的平行横线上区分不同时值的音符，基于这样的想法，我针对呈现聚集性传染事件中，每个被感染者的距离接触感染者的天数的情况进行编码，由此得到五线谱图。

![staff](../images/staff.png)

**由五线谱图可以看出，被COVID-19感染者接触后，被感染的时长大多是在近几天之内，但也有个别的是在较长一段时间后发现，由此可说明COVID-19潜伏期的多变性。**
